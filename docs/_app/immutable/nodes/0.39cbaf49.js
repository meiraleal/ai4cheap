import{S as J,i as K,s as Q,D as se,k as b,r as B,a as T,l as y,m as I,u as C,h as g,c as U,p as k,E as R,b as A,F as p,G as N,H,I as oe,n as w,J as W,K as P,e as z,L as re,w as ue,d as V,f as ce,g as M,M as ee,z as te,A as ne,B as le,C as ie,v as fe,N as pe,O as _e,P as de,Q as he,R as me,T as ge}from"../chunks/index.155e9c59.js";import{c as D,p as ve,a as be,m as X}from"../chunks/index.4eef8510.js";import{j as ye}from"../chunks/singletons.cd007eba.js";const ke=!1,Se=!1,Ie="always",we=async({fetch:l})=>{(await l("/_/")).redirected&&console.error({message:'Please visit <a href="/_/">/_</a> to finalize installation of PocketBase',type:"error",html:!0})},He=Object.freeze(Object.defineProperty({__proto__:null,ssr:ke,prerender:Se,trailingSlash:Ie,load:we},Symbol.toStringTag,{value:"Module"})),G={name:"AI Agent",description:"2023"},Ee=ye("before_navigate");function Y(l,e,t){const i=l.slice();return i[22]=e[t],i}function Z(l){let e,t,i,n,o,a,f,s,c;return{c(){e=b("div"),t=b("input"),i=T(),n=b("input"),o=T(),a=b("button"),f=B("Sign In"),this.h()},l(r){e=y(r,"DIV",{});var u=I(e);t=y(u,"INPUT",{type:!0,placeholder:!0}),i=U(u),n=y(u,"INPUT",{type:!0,placeholder:!0}),o=U(u),a=y(u,"BUTTON",{type:!0});var h=I(a);f=C(h,"Sign In"),h.forEach(g),u.forEach(g),this.h()},h(){t.required=!0,k(t,"type","text"),k(t,"placeholder","email"),n.required=!0,k(n,"type","password"),k(n,"placeholder","password"),k(a,"type","submit")},m(r,u){A(r,e,u),p(e,t),P(t,l[0]),p(e,i),p(e,n),P(n,l[2]),p(e,o),p(e,a),p(a,f),s||(c=[N(t,"input",l[12]),N(n,"input",l[13]),N(a,"click",l[14])],s=!0)},p(r,u){u&1&&t.value!==r[0]&&P(t,r[0]),u&4&&n.value!==r[2]&&P(n,r[2])},d(r){r&&g(e),s=!1,W(c)}}}function $(l){let e,t,i,n,o,a,f,s,c,r,u,h,E,_,v;return{c(){e=b("div"),t=b("input"),i=T(),n=b("input"),o=T(),a=b("input"),f=T(),s=b("input"),c=T(),r=b("input"),u=T(),h=b("button"),E=B("Sign Up"),this.h()},l(m){e=y(m,"DIV",{});var d=I(e);t=y(d,"INPUT",{type:!0,placeholder:!0}),i=U(d),n=y(d,"INPUT",{type:!0,placeholder:!0}),o=U(d),a=y(d,"INPUT",{type:!0,placeholder:!0}),f=U(d),s=y(d,"INPUT",{type:!0,placeholder:!0}),c=U(d),r=y(d,"INPUT",{type:!0,name:!0}),u=U(d),h=y(d,"BUTTON",{type:!0});var S=I(h);E=C(S,"Sign Up"),S.forEach(g),d.forEach(g),this.h()},h(){t.required=!0,k(t,"type","text"),k(t,"placeholder","email"),n.required=!0,k(n,"type","password"),k(n,"placeholder","password"),a.required=!0,k(a,"type","password"),k(a,"placeholder","confirm password"),s.required=!0,k(s,"type","text"),k(s,"placeholder","name / label"),k(r,"type","hidden"),k(r,"name","register"),r.value=!0,k(h,"type","submit")},m(m,d){A(m,e,d),p(e,t),P(t,l[0]),p(e,i),p(e,n),P(n,l[2]),p(e,o),p(e,a),P(a,l[3]),p(e,f),p(e,s),P(s,l[1]),p(e,c),p(e,r),p(e,u),p(e,h),p(h,E),_||(v=[N(t,"input",l[15]),N(n,"input",l[16]),N(a,"input",l[17]),N(s,"input",l[18]),N(h,"click",l[19])],_=!0)},p(m,d){d&1&&t.value!==m[0]&&P(t,m[0]),d&4&&n.value!==m[2]&&P(n,m[2]),d&8&&a.value!==m[3]&&P(a,m[3]),d&2&&s.value!==m[1]&&P(s,m[1])},d(m){m&&g(e),_=!1,W(v)}}}function Te(l){return{c:w,l:w,m:w,p:w,d:w}}function Ue(l){let e,t=l[21].authProviders,i=[];for(let n=0;n<t.length;n+=1)i[n]=x(Y(l,t,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=z()},l(n){for(let o=0;o<i.length;o+=1)i[o].l(n);e=z()},m(n,o){for(let a=0;a<i.length;a+=1)i[a].m(n,o);A(n,e,o)},p(n,o){if(o&64){t=n[21].authProviders;let a;for(a=0;a<t.length;a+=1){const f=Y(n,t,a);i[a]?i[a].p(f,o):(i[a]=x(f),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d(n){re(i,n),n&&g(e)}}}function x(l){let e,t,i=l[22].name+"",n,o,a;function f(){return l[20](l[22])}return{c(){e=b("button"),t=B("Sign-in with "),n=B(i),this.h()},l(s){e=y(s,"BUTTON",{type:!0});var c=I(e);t=C(c,"Sign-in with "),n=C(c,i),c.forEach(g),this.h()},h(){k(e,"type","button")},m(s,c){A(s,e,c),p(e,t),p(e,n),o||(a=N(e,"click",f),o=!0)},p(s,c){l=s},d(s){s&&g(e),o=!1,a()}}}function Ne(l){return{c:w,l:w,m:w,p:w,d:w}}function Pe(l){let e,t,i,n,o,a,f,s,c,r,u,h,E,_=l[5]==="SignIn"&&Z(l),v=l[5]==="SignUp"&&$(l),m={ctx:l,current:null,token:null,hasCatch:!0,pending:Ne,then:Ue,catch:Te,value:21};return se(l[6].listAuthMethods({$autoCancel:!1}),m),{c(){e=b("form"),t=b("div"),i=b("div"),n=b("button"),o=B("Sign In"),a=T(),f=b("button"),s=B("Sign Up"),c=T(),_&&_.c(),r=T(),v&&v.c(),u=T(),m.block.c(),this.h()},l(d){e=y(d,"FORM",{});var S=I(e);t=y(S,"DIV",{});var O=I(t);i=y(O,"DIV",{});var q=I(i);n=y(q,"BUTTON",{class:!0});var j=I(n);o=C(j,"Sign In"),j.forEach(g),a=U(q),f=y(q,"BUTTON",{class:!0});var F=I(f);s=C(F,"Sign Up"),F.forEach(g),q.forEach(g),c=U(O),_&&_.l(O),r=U(O),v&&v.l(O),O.forEach(g),u=U(S),m.block.l(S),S.forEach(g),this.h()},h(){k(n,"class","svelte-1ckt2bl"),R(n,"active",l[5]==="SignIn"),k(f,"class","svelte-1ckt2bl"),R(f,"active",l[5]==="SignUp")},m(d,S){A(d,e,S),p(e,t),p(t,i),p(i,n),p(n,o),p(i,a),p(i,f),p(f,s),p(t,c),_&&_.m(t,null),p(t,r),v&&v.m(t,null),p(e,u),m.block.m(e,m.anchor=null),m.mount=()=>e,m.anchor=null,h||(E=[N(n,"click",H(l[10])),N(f,"click",H(l[11])),N(e,"submit",H(l[7]))],h=!0)},p(d,[S]){l=d,S&32&&R(n,"active",l[5]==="SignIn"),S&32&&R(f,"active",l[5]==="SignUp"),l[5]==="SignIn"?_?_.p(l,S):(_=Z(l),_.c(),_.m(t,r)):_&&(_.d(1),_=null),l[5]==="SignUp"?v?v.p(l,S):(v=$(l),v.c(),v.m(t,null)):v&&(v.d(1),v=null),oe(m,l,S)},i:w,o:w,d(d){d&&g(e),_&&_.d(),v&&v.d(),m.block.d(),m.token=null,m=null,h=!1,W(E)}}}function Ae(l,e,t){let{authCollection:i="users"}=e;const n=D.collection(i);let o,a,f,s,c=!1,r="SignIn";async function u(){c&&await n.create({email:o,name:a,password:f,passwordConfirm:s}),await n.authWithPassword(o,f)}function h(L){t(5,r=L)}const E=()=>h("SignIn"),_=()=>h("SignUp");function v(){o=this.value,t(0,o)}function m(){f=this.value,t(2,f)}const d=()=>t(4,c=!1);function S(){o=this.value,t(0,o)}function O(){f=this.value,t(2,f)}function q(){s=this.value,t(3,s)}function j(){a=this.value,t(1,a)}const F=()=>t(4,c=!0),ae=L=>ve(L,n);return l.$$set=L=>{"authCollection"in L&&t(9,i=L.authCollection)},[o,a,f,s,c,r,n,u,h,i,E,_,v,m,d,S,O,q,j,F,ae]}class Oe extends J{constructor(e){super(),K(this,e,Ae,Pe,Q,{authCollection:9})}}function Be(l){let e,t,i;return t=new Oe({}),{c(){e=b("div"),te(t.$$.fragment)},l(n){e=y(n,"DIV",{});var o=I(e);ne(t.$$.fragment,o),o.forEach(g)},m(n,o){A(n,e,o),le(t,e,null),i=!0},p:w,i(n){i||(M(t.$$.fragment,n),i=!0)},o(n){V(t.$$.fragment,n),i=!1},d(n){n&&g(e),ie(t)}}}function Ce(l){var u,h,E;let e,t,i,n=(((u=l[0])==null?void 0:u.name)??((h=l[0])==null?void 0:h.username)??((E=l[0])==null?void 0:E.email))+"",o,a,f,s,c,r;return{c(){e=b("div"),t=b("div"),i=b("samp"),o=B(n),a=T(),f=b("button"),s=B("Sign Out"),this.h()},l(_){e=y(_,"DIV",{});var v=I(e);t=y(v,"DIV",{class:!0});var m=I(t);i=y(m,"SAMP",{});var d=I(i);o=C(d,n),d.forEach(g),m.forEach(g),a=U(v),f=y(v,"BUTTON",{});var S=I(f);s=C(S,"Sign Out"),S.forEach(g),v.forEach(g),this.h()},h(){k(t,"class","badge svelte-6b3v9b")},m(_,v){A(_,e,v),p(e,t),p(t,i),p(i,o),p(e,a),p(e,f),p(f,s),c||(r=N(f,"click",l[1]),c=!0)},p(_,v){var m,d,S;v&1&&n!==(n=(((m=_[0])==null?void 0:m.name)??((d=_[0])==null?void 0:d.username)??((S=_[0])==null?void 0:S.email))+"")&&fe(o,n)},i:w,o:w,d(_){_&&g(e),c=!1,r()}}}function De(l){let e,t,i,n;const o=[Ce,Be],a=[];function f(s,c){return s[0]?0:1}return e=f(l),t=a[e]=o[e](l),{c(){t.c(),i=z()},l(s){t.l(s),i=z()},m(s,c){a[e].m(s,c),A(s,i,c),n=!0},p(s,[c]){let r=e;e=f(s),e===r?a[e].p(s,c):(ue(),V(a[r],1,1,()=>{a[r]=null}),ce(),t=a[e],t?t.p(s,c):(t=a[e]=o[e](s),t.c()),M(t,1),t.m(i.parentNode,i))},i(s){n||(M(t),n=!0)},o(s){V(t),n=!1},d(s){a[e].d(s),s&&g(i)}}}async function qe(l){var e;l&&((e=self==null?void 0:self.parent)==null||e.postMessage({type:"query",data:l.content,stream:l.stream||!1},"*"))}function Le(l,e,t){let i;ee(l,be,c=>t(0,i=c));let n,o;self.addEventListener("message",async c=>{var r,u;c.origin==="https://chat.openai.com"&&((r=c==null?void 0:c.data)==null?void 0:r.type)==="gptReply"&&await D.collection("messages").update(o.id,{reply:(u=c==null?void 0:c.data)==null?void 0:u.data})});async function a(c){c&&(n||(n=setInterval(()=>f(c),15e3),D.collection("messages").subscribe("*",async r=>{console.log({e:r}),r!=null&&r.record&&r.action==="create"&&t(2,o=r.record)})))}async function f(c){c&&(console.log("keepAlive message sent to server"),c&&await D.collection("users").update(c,{status:"online"}))}async function s(){n&&(D.collection("messages").unsubscribe("*"),clearInterval(n)),console.log("disconnected message sent to server"),i!=null&&i.id&&await D.collection("users").update(i==null?void 0:i.id,{status:"offline"}),D.authStore.clear()}return l.$$.update=()=>{l.$$.dirty&4&&qe(o),l.$$.dirty&1&&a(i==null?void 0:i.id)},[i,s,o]}class Ve extends J{constructor(e){super(),K(this,e,Le,De,Q,{})}}function Me(l){let e,t,i,n,o,a,f,s;document.title=e=l[1],o=new Ve({});const c=l[4].default,r=pe(c,l,l[3],null);return{c(){t=b("meta"),i=T(),n=b("header"),te(o.$$.fragment),a=T(),f=b("main"),r&&r.c(),this.h()},l(u){const h=_e("svelte-1law5hj",document.head);t=y(h,"META",{name:!0,content:!0}),h.forEach(g),i=U(u),n=y(u,"HEADER",{class:!0});var E=I(n);ne(o.$$.fragment,E),E.forEach(g),a=U(u),f=y(u,"MAIN",{});var _=I(f);r&&r.l(_),_.forEach(g),this.h()},h(){k(t,"name","description"),k(t,"content",l[0]),k(n,"class","svelte-exkbgs")},m(u,h){p(document.head,t),A(u,i,h),A(u,n,h),le(o,n,null),A(u,a,h),A(u,f,h),r&&r.m(f,null),s=!0},p(u,[h]){(!s||h&2)&&e!==(e=u[1])&&(document.title=e),(!s||h&1)&&k(t,"content",u[0]),r&&r.p&&(!s||h&8)&&de(r,c,u,u[3],s?me(c,u[3],h,null):he(u[3]),null)},i(u){s||(M(o.$$.fragment,u),M(r,u),s=!0)},o(u){V(o.$$.fragment,u),V(r,u),s=!1},d(u){g(t),u&&g(i),u&&g(n),ie(o),u&&g(a),u&&g(f),r&&r.d(u)}}}function je(l,e,t){let i,n,o;ee(l,X,s=>t(2,o=s));let{$$slots:a={},$$scope:f}=e;return Ee(()=>{ge(X,o={},o)}),l.$$set=s=>{"$$scope"in s&&t(3,f=s.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&t(1,i=o.title?o.title+" | "+G.name:G.name),l.$$.dirty&4&&t(0,n=o.description??G.description)},[n,i,o,f,a]}class Ge extends J{constructor(e){super(),K(this,e,je,Me,Q,{})}}export{Ge as component,He as universal};
