import{S as I,i as O,s as R,k as c,a as T,q,l as _,m as P,c as E,h as U,r as A,n as m,b as B,F as i,U as d,H as y,R as k,B as F,L as C,D}from"../../../../../chunks/index-335ca1a6.js";import{g as H}from"../../../../../chunks/navigation-e6b51ede.js";import{a as L,s as M}from"../../../../../chunks/index-b9006f2c.js";import{a as X}from"../../../../../chunks/ui-e42e2d68.js";function j(u){let e,t,a,n,l,r,b,h,g,f,p,N,S;return{c(){e=c("form"),t=c("input"),a=T(),n=c("input"),l=T(),r=c("textarea"),b=T(),h=c("input"),g=T(),f=c("button"),p=q("Submit"),this.h()},l(o){e=_(o,"FORM",{});var s=P(e);t=_(s,"INPUT",{name:!0,placeholder:!0}),a=E(s),n=_(s,"INPUT",{name:!0,placeholder:!0}),l=E(s),r=_(s,"TEXTAREA",{name:!0,placeholder:!0,rows:!0}),P(r).forEach(U),b=E(s),h=_(s,"INPUT",{type:!0}),g=E(s),f=_(s,"BUTTON",{type:!0});var w=P(f);p=A(w,"Submit"),w.forEach(U),s.forEach(U),this.h()},h(){m(t,"name","title"),m(t,"placeholder","title"),m(n,"name","slug"),m(n,"placeholder","slug"),m(r,"name","body"),m(r,"placeholder","body"),m(r,"rows","10"),m(h,"type","file"),h.multiple=!0,m(f,"type","submit")},m(o,s){B(o,e,s),i(e,t),d(t,u[0].title),i(e,a),i(e,n),d(n,u[0].slug),i(e,l),i(e,r),d(r,u[0].body),i(e,b),i(e,h),i(e,g),i(e,f),i(f,p),N||(S=[y(t,"input",u[3]),y(n,"input",u[4]),y(r,"input",u[5]),y(h,"change",u[6]),y(e,"submit",k(u[1]))],N=!0)},p(o,[s]){s&1&&t.value!==o[0].title&&d(t,o[0].title),s&1&&n.value!==o[0].slug&&d(n,o[0].slug),s&1&&d(r,o[0].body)},i:F,o:F,d(o){o&&U(e),N=!1,C(S)}}}function v(u,e,t){let a,n;D(u,L,p=>t(7,n=p));let{data:l}=e;async function r(p){t(0,a.user=n==null?void 0:n.id,a),X(async()=>{await M("posts",a),H("../..")})}function b(){a.title=this.value,t(0,a),t(2,l)}function h(){a.slug=this.value,t(0,a),t(2,l)}function g(){a.body=this.value,t(0,a),t(2,l)}function f(){a.files=this.files,t(0,a),t(2,l)}return u.$$set=p=>{"data"in p&&t(2,l=p.data)},u.$$.update=()=>{u.$$.dirty&4&&t(0,{post:a}=l,a)},[a,r,l,b,h,g,f]}class Q extends I{constructor(e){super(),O(this,e,v,j,R,{data:2})}}export{Q as default};
