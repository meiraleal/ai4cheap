import{S as z,i as G,s as H,k as p,q as E,a as N,l as d,m as b,r as k,h as u,c as F,n as h,b as y,F as m,H as B,R as W,B as T,L as j,f as w,t as q,d as J,u as K,D,O as Q,w as V,x as X,y as Z,z as x,W as I,g as $}from"../../../../chunks/index-335ca1a6.js";import{p as ee}from"../../../../chunks/stores-69ecd341.js";import{m as S}from"../../../../chunks/stores-ef1c9eb6.js";import{g as L}from"../../../../chunks/navigation-e6b51ede.js";import{c as A}from"../../../../chunks/index-b9006f2c.js";import{a as te}from"../../../../chunks/ui-e42e2d68.js";function se(i){let e,s,t,n,f,l,r,a,o,c,O,C;return{c(){e=p("form"),s=p("article"),t=p("aside"),n=E("Are you sure you want to delete the following record?"),f=N(),l=p("button"),r=E("Yes - Proceed"),a=N(),o=p("button"),c=E("No - Cancel"),this.h()},l(g){e=d(g,"FORM",{});var _=b(e);s=d(_,"ARTICLE",{});var P=b(s);t=d(P,"ASIDE",{});var R=b(t);n=k(R,"Are you sure you want to delete the following record?"),R.forEach(u),P.forEach(u),f=F(_),l=d(_,"BUTTON",{type:!0});var U=b(l);r=k(U,"Yes - Proceed"),U.forEach(u),a=F(_),o=d(_,"BUTTON",{type:!0});var v=b(o);c=k(v,"No - Cancel"),v.forEach(u),_.forEach(u),this.h()},h(){h(l,"type","submit"),h(o,"type","reset")},m(g,_){y(g,e,_),m(e,s),m(s,t),m(t,n),m(e,f),m(e,l),m(l,r),m(e,a),m(e,o),m(o,c),O||(C=[B(o,"click",i[3]),B(e,"submit",W(i[0]))],O=!0)},p:T,i:T,o:T,d(g){g&&u(e),O=!1,j(C)}}}function ae(i,e,s){let{id:t}=e,{table:n}=e;async function f(){te(async()=>{await A.collection(n).delete(t),L("..")})}const l=()=>L("..");return i.$$set=r=>{"id"in r&&s(1,t=r.id),"table"in r&&s(2,n=r.table)},[f,t,n,l]}class le extends z{constructor(e){super(),G(this,e,ae,se,H,{id:1,table:2})}}function M(i){let e,s;return e=new le({props:{table:"posts",id:i[4]}}),{c(){V(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Z(e,t,n),s=!0},p(t,n){const f={};n&16&&(f.id=t[4]),e.$set(f)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function Y(i){let e,s;return{c(){e=p("img"),this.h()},l(t){e=d(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){I(e.src,s=A.getFileUrl(i[0].post,i[2][0],{thumb:"600x0"}))||h(e,"src",s),h(e,"alt",i[1]),h(e,"class","svelte-10t3lmq")},m(t,n){y(t,e,n)},p(t,n){n&5&&!I(e.src,s=A.getFileUrl(t[0].post,t[2][0],{thumb:"600x0"}))&&h(e,"src",s),n&2&&h(e,"alt",t[1])},d(t){t&&u(e)}}}function re(i){let e,s,t,n,f,l=i[5].url.hash==="#delete"&&M(i),r=i[2]&&i[2][0]&&Y(i);return{c(){l&&l.c(),e=N(),r&&r.c(),s=N(),t=p("pre"),n=E(i[3])},l(a){l&&l.l(a),e=F(a),r&&r.l(a),s=F(a),t=d(a,"PRE",{});var o=b(t);n=k(o,i[3]),o.forEach(u)},m(a,o){l&&l.m(a,o),y(a,e,o),r&&r.m(a,o),y(a,s,o),y(a,t,o),m(t,n),f=!0},p(a,[o]){a[5].url.hash==="#delete"?l?(l.p(a,o),o&32&&w(l,1)):(l=M(a),l.c(),w(l,1),l.m(e.parentNode,e)):l&&($(),q(l,1,1,()=>{l=null}),J()),a[2]&&a[2][0]?r?r.p(a,o):(r=Y(a),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null),(!f||o&8)&&K(n,a[3])},i(a){f||(w(l),f=!0)},o(a){q(l),f=!1},d(a){l&&l.d(a),a&&u(e),r&&r.d(a),a&&u(s),a&&u(t)}}}function oe(i,e,s){let t,n,f,l,r,a;D(i,S,c=>s(6,r=c)),D(i,ee,c=>s(5,a=c));let{data:o}=e;return i.$$set=c=>{"data"in c&&s(0,o=c.data)},i.$$.update=()=>{i.$$.dirty&1&&s(4,{post:{id:t,title:n,body:f,files:l}}=o,t,(s(1,n),s(0,o)),(s(3,f),s(0,o)),(s(2,l),s(0,o))),i.$$.dirty&2&&Q(S,r.title=n,r)},[o,n,l,f,t,a]}class _e extends z{constructor(e){super(),G(this,e,oe,re,H,{data:0})}}export{_e as default};
